# Element Hider - 网页元素隐藏扩展

一个强大的浏览器扩展，允许用户通过配置CSS选择器来隐藏网页上的特定元素。

## 功能特性

### 🎯 核心功能
- **CSS选择器支持**: 支持类名(.class)、ID(#id)、标签名等多种CSS选择器
- **实时应用**: 添加规则后立即生效，无需刷新页面
- **智能监听**: 自动检测页面动态内容变化并应用隐藏规则
- **规则管理**: 可以启用/禁用单个规则，支持批量清空

### 🔧 用户界面
- **现代化设计**: 美观的渐变色界面，支持响应式布局
- **直观操作**: 简单的开关控制，一键启用/禁用功能
- **实时统计**: 显示当前隐藏的元素数量和域名信息
- **输入验证**: 实时验证CSS选择器的有效性

### 💾 数据管理
- **云端同步**: 使用Chrome Storage API同步设置到所有设备
- **持久化存储**: 设置自动保存，重启浏览器后保持不变
- **安全可靠**: 本地存储，保护用户隐私

### 🌐 兼容性
- **Chrome**: 完全支持Manifest V3
- **Firefox**: 兼容WebExtensions API
- **跨平台**: 支持Windows、macOS、Linux

## 安装方法

### Chrome浏览器
1. 打开Chrome浏览器
2. 进入 `chrome://extensions/`
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹

### Firefox浏览器
1. 打开Firefox浏览器
2. 进入 `about:debugging`
3. 点击"此Firefox"
4. 点击"临时载入附加组件"
5. 选择`manifest.json`文件

## 使用指南

### 基本使用
1. **启用扩展**: 点击浏览器工具栏中的扩展图标
2. **添加规则**: 在输入框中输入CSS选择器，如`.advertisement`
3. **应用规则**: 点击"添加"按钮，规则立即生效
4. **管理规则**: 可以单独启用/禁用或删除每个规则

### CSS选择器示例
```css
/* 隐藏所有广告类 */
.advertisement
.ad-banner
.sponsored-content

/* 隐藏特定ID元素 */
#popup-modal
#sidebar-ads

/* 隐藏特定标签 */
iframe
video

/* 复合选择器 */
div.popup
.header .nav-item
[data-ad="true"]
```

### 高级功能
- **全局开关**: 使用顶部开关快速启用/禁用所有规则
- **规则切换**: 每个规则都有独立的开关控制
- **页面刷新**: 点击"刷新页面"按钮重新加载当前页面
- **批量清空**: 一键清空所有隐藏规则

## 技术架构

### 文件结构
```
element-hider/
├── manifest.json          # 扩展配置文件
├── popup.html             # 弹出界面HTML
├── popup.css              # 弹出界面样式
├── popup.js               # 弹出界面逻辑
├── content.js             # 内容脚本
├── background.js          # 背景脚本
├── icons/                 # 图标文件夹
└── README.md              # 说明文档
```

### 核心组件

#### 1. Manifest (manifest.json)
- 定义扩展权限和配置
- 支持Manifest V3规范
- 兼容Chrome和Firefox

#### 2. 弹出界面 (popup.html/css/js)
- 用户交互界面
- 规则管理功能
- 实时状态显示

#### 3. 内容脚本 (content.js)
- 注入到网页中执行
- 应用CSS隐藏规则
- 监听DOM变化

#### 4. 背景脚本 (background.js)
- 管理扩展生命周期
- 处理跨标签页通信
- 数据持久化

### 技术特点

#### 性能优化
- **防抖处理**: 避免频繁的DOM操作
- **选择器缓存**: 提高规则匹配效率
- **异步处理**: 不阻塞页面渲染

#### 安全机制
- **选择器验证**: 防止恶意CSS注入
- **权限最小化**: 只请求必要的浏览器权限
- **错误处理**: 完善的异常捕获和处理

#### 用户体验
- **即时反馈**: 操作结果立即可见
- **状态同步**: 多标签页设置同步
- **视觉反馈**: 清晰的UI状态指示

## 开发指南

### 环境要求
- Node.js (可选，用于开发工具)
- 现代浏览器 (Chrome 88+ / Firefox 78+)

### 本地开发
1. 克隆项目到本地
2. 在浏览器中加载扩展
3. 修改代码后重新加载扩展
4. 测试功能是否正常

### 代码规范
- 使用ES6+语法
- 遵循Google JavaScript风格指南
- 添加适当的注释和文档

### 调试技巧
- 使用浏览器开发者工具
- 查看扩展页面的控制台输出
- 使用`chrome://extensions/`页面的错误信息

## 常见问题

### Q: 为什么某些元素无法隐藏？
A: 可能的原因：
- CSS选择器不正确
- 元素是动态加载的
- 页面使用了强制显示的样式

### Q: 规则不生效怎么办？
A: 检查步骤：
1. 确认扩展已启用
2. 检查CSS选择器语法
3. 尝试刷新页面
4. 查看浏览器控制台错误

### Q: 如何备份我的规则？
A: 规则自动同步到Chrome账户，也可以：
1. 导出浏览器扩展数据
2. 手动记录重要的CSS选择器

### Q: 扩展影响页面性能吗？
A: 影响很小：
- 使用高效的CSS选择器
- 实现了防抖优化
- 只在必要时执行DOM操作

## 更新日志

### v1.0.0 (2024-11-18)
- 🎉 首次发布
- ✨ 支持CSS选择器隐藏元素
- 🎨 现代化用户界面
- 💾 云端设置同步
- 🔧 完整的规则管理功能
- 🌐 Chrome和Firefox兼容性

## 贡献指南

欢迎提交Issue和Pull Request！

### 贡献流程
1. Fork项目
2. 创建功能分支
3. 提交更改
4. 发起Pull Request

### 开发建议
- 保持代码简洁易读
- 添加必要的测试
- 更新相关文档
- 遵循现有代码风格

## 许可证

MIT License - 详见LICENSE文件

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件反馈

---

**Element Hider** - 让网页浏览更加纯净！ 🚀