# Element Hider 安装指南

## 快速开始

### 1. 准备图标文件
在开始之前，您需要为扩展准备图标文件。将以下尺寸的PNG图标放入`icons/`文件夹：
- `icon16.png` (16x16像素)
- `icon32.png` (32x32像素)  
- `icon48.png` (48x48像素)
- `icon128.png` (128x128像素)

**临时解决方案**: 如果没有图标，可以创建简单的彩色方块作为占位符。

### 2. Chrome浏览器安装

1. **打开扩展管理页面**
   - 在地址栏输入 `chrome://extensions/`
   - 或者点击菜单 → 更多工具 → 扩展程序

2. **启用开发者模式**
   - 在页面右上角找到"开发者模式"开关
   - 点击开启开发者模式

3. **加载扩展**
   - 点击"加载已解压的扩展程序"按钮
   - 选择项目文件夹 `/Users/kingjungle/codebuddy/google-zhihu`
   - 点击"选择文件夹"

4. **验证安装**
   - 扩展应该出现在扩展列表中
   - 浏览器工具栏会显示扩展图标

### 3. Firefox浏览器安装

1. **使用Firefox专用manifest**
   - 将 `manifest-firefox.json` 重命名为 `manifest.json`
   - 或者备份原文件后替换

2. **打开调试页面**
   - 在地址栏输入 `about:debugging`
   - 点击"此Firefox"

3. **加载扩展**
   - 点击"临时载入附加组件"
   - 选择项目文件夹中的 `manifest.json` 文件

4. **验证安装**
   - 扩展会出现在临时扩展列表中
   - 工具栏会显示扩展图标

## 使用方法

### 基本操作

1. **打开弹窗配置面板**
   - 点击浏览器右上角工具栏中的Element Hider图标
   - 弹出配置面板，显示当前网站信息

2. **查看网站信息**
   - 面板顶部显示当前网站域名
   - 实时显示已隐藏的元素数量

3. **添加隐藏规则**
   - 方式一：在输入框中手动输入CSS选择器
   - 方式二：点击快速选择器按钮（广告、弹窗、侧边栏、横幅）
   - 方式三：点击"🔍 选择元素"按钮，然后在页面上点击要隐藏的元素
   - 点击"添加"按钮确认

4. **管理规则**
   - 切换"本站"/"全部"标签查看不同范围的规则
   - 使用每个规则旁边的开关来启用/禁用
   - 点击"删除"按钮移除不需要的规则
   - 使用顶部的主开关控制整个扩展

### CSS选择器示例

```css
/* 常见广告类名 */
.advertisement
.ad-banner  
.sponsored
.promotion

/* 弹窗和模态框 */
#popup
#modal
.overlay
.popup-container

/* 社交媒体按钮 */
.social-share
.follow-button
.like-button

/* 导航和侧边栏 */
.sidebar-ads
.header-banner
.footer-ads

/* 视频和媒体 */
video
iframe[src*="ads"]
.video-overlay

/* 复合选择器 */
div.content .advertisement
.main-content > .banner
[data-ad="true"]
```

### 高级功能

1. **网站特定规则**
   - 添加的规则默认只对当前网站生效
   - 不同网站的规则互不干扰
   - 支持查看所有网站的规则

2. **元素检查模式**
   - 点击"🔍 选择元素"按钮启动检查模式
   - 在页面上直接点击要隐藏的元素
   - 自动生成对应的CSS选择器

3. **快速选择器**
   - 预设常用的选择器类型
   - 一键填入常见的广告、弹窗等选择器
   - 提高配置效率

4. **规则过滤**
   - "本站"标签：只显示当前网站的规则
   - "全部"标签：显示所有网站的规则
   - 便于管理不同网站的配置

5. **批量管理**
   - "🗑️ 清空本站"：删除当前网站的所有规则
   - "🔄 刷新"：重新加载当前页面
   - 实时统计显示隐藏元素数量

6. **自动同步**
   - 设置会自动同步到您的Google账户
   - 在不同设备间保持一致

## 故障排除

### 常见问题

**Q: 扩展图标不显示**
- 确保icons文件夹中有正确尺寸的图标文件
- 检查manifest.json中的图标路径是否正确

**Q: 规则不生效**
- 检查CSS选择器语法是否正确
- 确保扩展已启用（主开关打开）
- 尝试刷新页面

**Q: 某些元素无法隐藏**
- 元素可能使用了!important样式
- 尝试更具体的CSS选择器
- 检查元素是否动态加载

**Q: Firefox安装失败**
- 确保使用了Firefox版本的manifest文件
- 检查Firefox版本是否支持（需要78+）

### 调试方法

1. **查看控制台错误**
   - 按F12打开开发者工具
   - 查看Console标签页的错误信息

2. **检查扩展状态**
   - 在扩展管理页面查看扩展是否正常加载
   - 查看是否有错误提示

3. **测试CSS选择器**
   - 在浏览器控制台中测试：`document.querySelector('你的选择器')`
   - 确保选择器能正确匹配元素

## 开发模式

如果您想修改扩展代码：

1. **修改文件后重新加载**
   - 在扩展管理页面点击刷新按钮
   - 或者禁用后重新启用扩展

2. **查看日志**
   - 右键扩展图标 → 检查弹出内容
   - 查看background script的控制台

3. **测试不同网站**
   - 在各种网站上测试扩展功能
   - 确保兼容性和稳定性

## 安全提示

- 只从可信来源安装扩展
- 定期检查扩展权限
- 不要添加可能恶意的CSS选择器
- 保持扩展更新到最新版本

---

安装完成后，您就可以开始使用Element Hider来创建更清洁的网页浏览体验了！🎉